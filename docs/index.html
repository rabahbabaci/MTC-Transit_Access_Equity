<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transit Access Equity: Time-Aware Isochrones in the Bay Area</title>
    <style>
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: 40px auto;
            background-color: #ffffff;
            padding: 30px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            border-radius: 8px;
        }
        header {
            border-bottom: 3px solid #007bff;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        h1 {
            color: #007bff;
            font-size: 2.2em;
            margin-bottom: 5px;
        }
        h2 {
            color: #004d99;
            border-bottom: 2px solid #eee;
            padding-bottom: 5px;
            margin-top: 30px;
        }
        h3 {
            color: #007bff;
            margin-top: 20px;
        }
        .meta-info {
            font-size: 0.9em;
            color: #6c757d;
            margin-bottom: 20px;
        }
        .code-block {
            background-color: #e9ecef;
            border: 1px solid #dee2e6;
            padding: 10px;
            overflow-x: auto;
            border-radius: 4px;
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 0.9em;
        }
        .figure-placeholder {
            border: 2px dashed #007bff;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
            background-color: #f0f8ff;
            font-style: italic;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Transit Access Equity: Time-Aware Isochrones in the Bay Area</h1>
            <p class="meta-info">
                **CYPLAN 101 — Group 4 (Track B: Advanced)** | **Team:** Rabah Babaci & Adithya Ayanam | **Mentor:** Metropolitan Transportation Commission (MTC)
            </p>
        </header>

        <h2>Abstract</h2>
        <p>This study investigates temporal disparities in transit accessibility within Alameda County, California, focusing on Equity Priority Communities (EPCs). Using a non-trivial spatio-temporal modeling approach that integrates General Transit Feed Specification (GTFS) schedule data, pedestrian networks from OpenStreetMap, and employment data from the Longitudinal Employer-Household Dynamics (LEHD) program, we conduct a comparative analysis of job accessibility (jobs reachable within 30 minutes) during AM Peak (7:30–8:30 AM) and Late Night (10:00–11:00 PM) periods.</p>
        <p>Our findings reveal a substantial time-of-day equity gap: EPC tracts suffer an average **32.3% reduction** in reachable employment opportunities, significantly exceeding the **24.0% reduction** observed in non-EPC tracts. This **8.3-percentage-point equity gap** demonstrates that conventional static accessibility measures obscure significant temporal inequities that disproportionately affect transit-dependent populations. Policy recommendations call for integrating time-aware metrics into regional planning mandates and targeting service investments to EPC corridors most affected by off-peak service contraction. </p>

        <h2>1. Introduction: Context, Motivation, Objectives, and Research Questions</h2>
        
        <h3>1.1 Context and Motivation</h3>
        <p>Traditional transportation planning in the Bay Area relies heavily on **static, AM Peak accessibility metrics** to assess mobility. This approach fails to capture the true mobility challenges faced by residents of **Equity Priority Communities (EPCs)**, who are disproportionately dependent on transit. When service frequency and span decline significantly during off-peak and late-night hours, these communities experience a severe contraction of accessible employment opportunities. This project is motivated by the need to quantify this **temporal inequity** using a time-aware analysis to inform better policy and targeted service improvements.</p>

        <h3>1.2 Objectives and Scope</h3>
        <p>The **Objective** is to conduct a non-trivial spatio-temporal analysis to quantify the difference in job accessibility between peak and off-peak periods and measure the resulting mobility penalty on EPCs in Alameda County.</p>
        <p>The **Scope** is defined as:</p>
        <ul>
            <li>**Geographic Focus:** Alameda County.</li>
            <li>**Equity Focus:** Comparative analysis between EPC and non-EPC census tracts.</li>
            <li>**Temporal Comparison:** AM Peak (7:30–8:30 AM) vs. Late Night (10:00–11:00 PM).</li>
        </ul>
        
        <h3>1.3 Research Questions</h3>
        <ol>
            <li>How does **transit job accessibility** differ between **AM peak** and **late-night** periods for all tracts?</li>
            <li>Which groups, particularly **EPCs**, experience the largest off-peak reductions (the mobility penalty)?</li>
            <li>How can the resulting **time-aware indicators** inform service planning and scheduling improvements for high-impact EPC corridors?</li>
        </ol>

        <h2>2. Data and Methodology (Technical Report)</h2>

        <h3>2.1 Preparation of Origin Data: Alameda County Tract Master File</h3>
        <p>The initial methodological step was the construction of the final origin layer, a tract-level master dataset for Alameda County, essential for ensuring data integrity and consistency throughout the time-aware accessibility analysis. This process began by filtering the raw TIGER/Line Shapefiles to isolate only the geometries corresponding to Alameda County and standardizing all geographic identifiers to the **11-digit GEOID** string format, which facilitated reliable merging with external data sources. The cleaned tract geometries were then augmented by merging the Metropolitan Transportation Commission’s Equity Priority Community (EPC) designations, creating the primary comparative variable, and integrating relevant American Community Survey (ACS) population fields to provide a demographic context. As a measure of quality control, tracts with suppressed or missing ACS population values were explicitly flagged, thereby ensuring transparency in later normalization steps. Finally, the geometries were validated to share a **consistent Coordinate Reference System (CRS)** to preserve spatial integrity, thus finalizing the master dataset for use as the origin points in the R5 routing engine.</p>

        <h3>2.2 Finalization of Origin Data and Geospatial Preparation</h3>
        <p>The subsequent step in the data preparation workflow involved building and finalizing the core GeoDataFrame for Alameda County, which was necessary for both the visualization and the input parameters of the time-aware accessibility model. This process commenced by selecting only the required columns from the previously merged dataset, streamlining the file to essential geographic and attribute fields. The geometric integrity of the data was then finalized by confirming and setting the Coordinate Reference System (CRS) to the global standard **EPSG:4326**, which is the required projection for the R5 routing engine. Crucially, the dataset was validated to ensure consistency in row counts and geometry types, while the `population_missing` flag was carefully preserved to maintain transparency regarding tracts where ACS data was suppressed or incomplete. The final cleaned GeoDataFrame was then saved, marking its readiness for the network modeling phase.</p>

        <h3>2.3 Analytical Framework</h3>
        <p>The foundation of the analysis is the creation of a realistic transportation model using the **R5 routing engine** (via the `r5py` library), integrating scheduled public transit (GTFS) with the pedestrian street network (OSM). The **Cumulative Opportunity Accessibility** metric was defined as the total number of jobs (LODES WAC) reachable within a maximum travel time budget of **30 minutes** from each origin tract.</p>
        <p>The core equity metric is the **Percent Change in Jobs Reachable ($\Delta$ %)**, calculated for every census tract:</p>
        <div class="code-block" style="text-align: center;">
            $$\Delta_{\%} = \frac{Jobs_{Late\ Night} - Jobs_{AM\ Peak}}{Jobs_{AM\ Peak}} \times 100$$
        </div>
        <p>This $\Delta$ % metric serves as the primary indicator of **temporal equity loss** and was used for statistical and spatial comparison between EPC and Non-EPC tracts. </p>

        <h2>3. Results and Findings</h2>

        <h3>3.1 Quantitative Finding: The Disproportionate Loss</h3>
        <p>The analysis confirmed a substantial time-of-day equity gap:</p>
        <ul>
            <li>**EPC Penalty:** EPC tracts experienced an average accessibility reduction of **32.3%**.</li>
            <li>**Non-EPC Reduction:** Non-EPC tracts saw an average reduction of **24.0%**.</li>
            <li>**Equity Gap:** This **8.3 percentage point difference** confirms the disproportionate temporal mobility penalty.</li>
        </ul>

        <h3>3.2 Visualization of Aggregate Results</h3>
        
        <h4>Figure 1: Box Plot of Accessibility Distribution</h4>
        <p>This box plot provides the statistical evidence, showing that the entire distribution of job access shifts downward more severely for EPCs during the Late Night
